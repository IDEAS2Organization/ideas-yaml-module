{
    "id": "ideas-oai-spec-language",
    "extension": "oai-spec",
    "name": "OAI Specification",
    "formats": [
        {
            "format": "yaml",
            "editorModeId": "ace/mode/yaml",
            "_editorModeURI": "mode-yaml.js",
            "editorThemeId": "ace/theme/at",
            "_editorThemeURI": "theme-at.js",
            "checkLanguage": "false"
        },
        {
            "format": "json",
            "editorModeId": "ace/mode/json",
            "_editorModeURI": "mode-json.js",
            "editorThemeId": "ace/theme/at",
            "_editorThemeURI": "theme-at.js",
            "checkLanguage": "false"
        }
    ],
    "operations": [
        {
            "id": "buidAgreement",
            "name": "Build agreement",
            "data": {},
            "_remoteExecution": "false",
            "action": "function(operation, fileUri, result) {var newUri = EditorManager.currentUri.substring(0, EditorManager.currentUri.lastIndexOf('/')) + '/plans',relativePath = 'https://repo.designer.governify.io/DemoMaster/Resources/sla4oaiDemo',accessToken = '165a1761634db1e9bd304ea6f3ffcf2b',plansAgContent = '',plansCtlContent = '',plansAngContent = '',swagger = jsyaml.safeLoad(EditorManager.getCurrentEditorContent());newUri + '.oai-at' in EditorManager.tabsMap && EditorManager.deleteNode(newUri + '.oai-at', !1, function () {}), newUri + '.ctl' in EditorManager.tabsMap && EditorManager.deleteNode(newUri + '.ctl', !1, function () {}), newUri + '.ang' in EditorManager.tabsMap && EditorManager.deleteNode(newUri + '.ang', !1, function () {}), EditorManager.currentUri.substring(0, EditorManager.currentUri.lastIndexOf('/')) + 'access-token.json' in EditorManager.tabsMap && EditorManager.deleteNode(EditorManager.currentUri.substring(0, EditorManager.currentUri.lastIndexOf('/')) + '/access-token.json', !1, function () {}), $.ajax({url: relativePath + '/plans.oai-at?accessToken=' + accessToken,method: 'GET',timeout: 36e5}).done(function (e, n, a) {200 !== a.status ? console.error(a) : (plansAgContent = e, $.ajax({url: relativePath + '/plans.ctl?accessToken=' + accessToken,method: 'GET',timeout: 36e5}).done(function (e, n, a) {200 !== a.status ? console.error(a) : (plansCtlContent = e, $.ajax({url: relativePath + '/plans.ang?accessToken=' + accessToken,method: 'GET',timeout: 36e5}).done(function (e, n, a) {200 !== a.status ? console.error(a) : (plansAngContent = e, $.ajax({url: relativePath + '/access-token.json?accessToken=' + accessToken,method: 'GET',timeout: 36e5}).done(function (e, n, a) {if (200 !== a.status) console.error(a);else {var t = e;console.info('access', t), EditorManager.createNode(EditorManager.currentUri.substring(0, EditorManager.currentUri.lastIndexOf('/')) + '/access-token.json', 'access-token', '.json', function () {EditorManager.saveFile(EditorManager.currentUri.substring(0, EditorManager.currentUri.lastIndexOf('/')) + '/access-token.json', t, function () {EditorManager.createNode(newUri + '.oai-at', 'plans', '.oai-at', function () {var e = jsyaml.safeLoad(plansAgContent);e.context.api = 'https://repo.designer.governify.io/' + principalUserName + '/' + EditorManager.currentUri + '?accessToken=' + accessToken, EditorManager.saveFile(newUri + '.oai-at', jsyaml.safeDump(e), function () {EditorManager.createNode(newUri + '.ctl', 'plans', '.ctl', function () {EditorManager.saveFile(newUri + '.ctl', plansCtlContent, function () {EditorManager.createNode(newUri + '.ang', 'plans', '.ang', function () {EditorManager.saveFile(newUri + '.ang', plansAngContent, function () {delete swagger.host, delete swagger.basePath, swagger.info['x-sla'] = 'https://repo.designer.governify.io/' + principalUserName + '/' + EditorManager.currentUri.substring(0, EditorManager.currentUri.lastIndexOf('/')) + '/plans.oai-at?accessToken=' + accessToken, document.editor.setValue(jsyaml.safeDump(swagger)), console.info('ok'), setTimeout(function () {EditorManager.openFile(newUri + '.oai-at');CommandApi.echo('<span>OAI URL: <a href=\"'+e.context.api+'\" target=\"_blank\">'+e.context.api+'</a></span>');CommandApi.echo('<span>Gateway URL: <a href=\"https://gateway.oai.governify.io\" target=\"_blank\">https://gateway.oai.governify.io</a></span>');}, 1150)})})})})})})})})}}).fail(function (e, n, a) {console.error(a)}).fail(function (e, n, a) {console.error(a)}))}).fail(function (e, n, a) {console.error(a)}))}).fail(function (e, n, a) {console.error(a)}))});}"
        }
    ],
    "templateProjects": null,
    "templateFiles": null,
    "inspectorLoader": "function(loader, format) {}"
}